<div ui-tree-handle>
  <div class="{{ node.status | statusToClass }}" ng-class="{'update': update}" ng-init="update = false">
    <div class="navigation">
      <div class="drag">
        <div class="wrap" ng-class="node.status | statusToClass">
          <i class="fa fa-navicon"></i>
        </div>
      </div>
      <div class="options" data-nodrag>
        <div class="wrap">
          <a class="btn btn-success btn-xs" ng-if="node.nodes && node.nodes.length > 0" data-nodrag
             ng-click="toggle(this)">
            <span class="fa" ng-class="{ 'fa-chevron-right': collapsed, 'fa-chevron-down': !collapsed}"></span>
          </a>
          <a class="btn" href="" ng-click="onAddItem(this)"><i class="fa fa-plus"></i> </a>
          <a class="btn" href="" ng-click="update = true"><i class="fa fa-pencil"></i> </a>
          <a class="btn" href="" ng-click="onRemove(this)"><i class="fa fa-remove"></i> </a>
          <a class="btn" href="" ng-if="false"><i class="fa fa-eye"></i> </a>
          <a class="btn" href=""><i class="fa fa-comments-o"></i> </a>
        </div>
      </div>
    </div>


    <div class="title" ng-bind="node.title"></div>
    <div class="title-update" data-nodrag>
      <a href="" data-nodrag  class="input-submit" ng-click="update = false"><i tooltips tooltip-size="small" title="Submit" class="fa fa-check-square-o"></i> </a>
      <input type="text" class="input-text" ng-model="node.title">
    </div>

    <div class="info" data-nodrag>
      <i class="fa fa-info-circle"></i>
      <div class="info-body" ng-bind="node.description"></div>
    </div>

    <div class="status" data-nodrag ng-hide="node.nodes.length">
      <a href="" class="current-status" ng-class="node.status | statusToClass">
        <i class="fa" ng-class="node.status | statusToIcon"></i>
      </a>
      <ul class="list">
        <li>
          <input type="radio" ng-model="node.status" ng-value="0" name="options-{{node.id}}" id="option-filter-test-{{node.id}}-standbay" ng-change="onStatusChange(this)">
          <label class="btn" for="option-filter-test-{{node.id}}-standbay" tooltips tooltip-size="small" title="Standbay">
            <i class="fa fa-power-off base-color-status-standby"></i>
          </label>
        </li>
        <li>
          <input type="radio" ng-model="node.status" ng-value="2" name="options" id="option-filter-test-{{node.id}}-ok" ng-change="onStatusChange(this)">
          <label class="btn" for="option-filter-test-{{node.id}}-ok" tooltips tooltip-size="small" title="Ok">
            <i class="fa fa-thumbs-up base-color-status-ok"></i>
          </label>
        </li>
        <li>
          <input type="radio" ng-model="node.status" ng-value="1" name="options" id="option-filter-test-{{node.id}}-progress" ng-change="onStatusChange(this)">
          <label class="btn" for="option-filter-test-{{node.id}}-progress" tooltips tooltip-size="small" title="Warning">
            <i class="fa fa fa-thumbs-up base-color-status-progress"></i>
          </label>
        </li>
        <li>
          <input type="radio" ng-model="node.status" ng-value="3" name="options" id="option-filter-test-{{node.id}}-ko" ng-change="onStatusChange(this)">
          <label class="btn" for="option-filter-test-{{node.id}}-ko" tooltips tooltip-size="small" title="Ko">
            <i class="fa fa-thumbs-down base-color-status-ko"></i>
          </label>
        </li>
      </ul>
    </div>
  </div>
</div>
<ol ui-tree-nodes="" ng-model="node.nodes" ng-class="{hidden: collapsed}">
  <li ng-repeat="node in node.nodes" ui-tree-node ng-include="'/app/assets/dist/tpl/common/directives/nodes.directive.html'">

  </li>
</ol>